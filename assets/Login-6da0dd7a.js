import{h as f,u as h,i as w,r,a as g,b as k,c as x,d as e,q as c,v as d,g as m,e as y,w as V}from"./index-7a65e4ce.js";import{a as N}from"./axios-a900fd7e.js";const S={class:"bg-light p-4"},B={class:"mb-3"},C=e("label",{for:"email",class:"form-label"},"信箱",-1),T={class:"mb-3"},U=e("label",{for:"password",class:"form-label"},"Password",-1),j={__name:"Login",setup($){f();const p=h(),u=w("$swal"),_="https://ttshop-server.onrender.com",a=r("admin@mail.com"),l=r("123456"),b=()=>{const n={email:a.value,password:l.value};N.post(`${_}/login`,n).then(({data:s})=>{var i;const{accessToken:o,user:t}=s,v={user:t,token:o};localStorage.setItem("ttshop",JSON.stringify(v)),p.push({name:`${(i=t==null?void 0:t.role)!=null&&i.includes("admin")?"admin":"index"}`})}).catch(s=>{var o;console.dir(s),u((o=s==null?void 0:s.response)==null?void 0:o.data)})};return(n,s)=>{const o=g("router-link");return k(),x("div",null,[e("form",S,[e("div",B,[C,c(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>a.value=t),type:"email",class:"form-control",id:"email","aria-describedby":"emailHelp"},null,512),[[d,a.value]])]),e("div",T,[U,c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>l.value=t),type:"password",class:"form-control",id:"password"},null,512),[[d,l.value]])]),e("button",{onClick:b,type:"submit",class:"btn btn-primary"},"送出"),e("div",null,[m("沒有帳號嗎？ "),y(o,{to:"/register"},{default:V(()=>[m("註冊去")]),_:1})])])])}}};export{j as default};
